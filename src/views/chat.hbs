<div class="mt-5 mb-5">
    <h1>Chat en Tiempo Real</h1>
    <hr>
</div>

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">💬 Chat Global</h5>
                <small class="text-muted" id="chatUsersCount">Usuarios en chat: 0</small>
            </div>
            <div class="card-body">
                <!-- Área de mensajes -->
                <div id="chatMessages" class="chat-messages" style="height: 400px; overflow-y: auto; border: 1px solid #dee2e6; padding: 15px; margin-bottom: 15px; background-color: #f8f9fa;">
                    <div class="text-center text-muted">
                        <p>¡Bienvenido al chat! Escribe un mensaje para comenzar...</p>
                    </div>
                </div>
                
                <!-- Formulario de mensaje -->
                <form id="chatForm" class="d-flex gap-2">
                    <input type="text" class="form-control" id="messageInput" placeholder="Escribe tu mensaje aquí..." maxlength="200" required>
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-send"></i> Enviar
                    </button>
                </form>
                
                <!-- Información adicional -->
                <div class="mt-3">
                    <small class="text-muted">
                        <i class="bi bi-info-circle"></i> 
                        Los mensajes se envían en tiempo real a todos los usuarios conectados
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.chat-messages {
    scroll-behavior: smooth;
}

.message {
    margin-bottom: 10px;
    padding: 8px 12px;
    border-radius: 10px;
    max-width: 70%;
    word-wrap: break-word;
}

.message.own {
    background-color: #007bff;
    color: white;
    margin-left: auto;
    text-align: right;
}

.message.other {
    background-color: #e9ecef;
    color: #333;
    margin-right: auto;
}

.message.system {
    background-color: #28a745;
    color: white;
    text-align: center;
    margin: 0 auto;
    font-style: italic;
}

.message-header {
    font-size: 0.8em;
    opacity: 0.8;
    margin-bottom: 2px;
}

.message-content {
    font-size: 0.95em;
}

.message-time {
    font-size: 0.7em;
    opacity: 0.7;
    margin-top: 2px;
}

/* Scrollbar personalizada */
.chat-messages::-webkit-scrollbar {
    width: 6px;
}

.chat-messages::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
    background: #555;
}
</style>
